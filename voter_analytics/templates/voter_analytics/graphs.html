{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Voter Analytics Graphs</title>
    <link rel="stylesheet" href="{% static 'stylesheet.css' %}">
</head>
<body>
    <header>
        <a href="{% url 'voters' %}" class="button">Show Voter List</a>
        <a href="{% url 'graphs' %}" class="button">Show Graphs</a> <!-- Show Graphs Button -->

        <h1>Voter Analytics Graphs</h1>
    </header>

    <!-- Filter Form -->
    <form method="get">
        <label for="party_affiliation">Select Party Affiliation:</label>
        <select name="party_affiliation" id="party_affiliation">
            <option value="">Choose</option>
                <option value="U">U</option>
                <option value="D">D</option>
                <option value="R">R</option>
                <option value="J">J</option>
                <option value="A">A</option>
                <option value="CC">CC</option>
                <option value="X">X</option>
                <option value="L">L</option>
                <option value="Q">Q</option>
                <option value="S">S</option>
                <option value="FF">FF</option>
                <option value="G">G</option>
                <option value="HH">HH</option>
                <option value="T">T</option>
                <option value="AA">AA</option>
                <option value="GG">GG</option>
                <option value="Z">Z</option>
                <option value="O">O</option>
                <option value="P">P</option>
                <option value="E">E</option>
                <option value="V">V</option>
                <option value="H">H</option>
                <option value="Y">Y</option>
                <option value="W">W</option>
                <option value="EE">EE</option>
                <option value="K">K</option>
        </select>

        <label for="voter_score">Select Voter Score:</label>
        <select name="voter_score" id="voter_score">
            <option value="">Choose</option>
            {% for score in voter_scores %}
                <option value="{{ score }}">{{ score }}</option>
            {% endfor %}
        </select>

        <label for="min_year">Min Year of Birth:</label>
        <select name="min_year" id="min_year">
            <option value="">Choose</option>
            {% for year in birth_years %}
                <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
        </select>

        <label for="max_year">Max Year of Birth:</label>
        <select name="max_year" id="max_year">
            <option value="">Choose</option>
            {% for year in birth_years %}
                <option value="{{ year }}">{{ year }}</option>
            {% endfor %}
        </select>

        <label for="elections">Previous Election Participation:</label>
        <div id="elections">
            <label><input type="checkbox" name="v20state"> v20state</label>
            <label><input type="checkbox" name="v21town"> v21town</label>
            <label><input type="checkbox" name="v21primary"> v21primary</label>
            <label><input type="checkbox" name="v22general"> v22general</label>
            <label><input type="checkbox" name="v23town"> v23town</label>
        </div>

        <button type="submit">Submit</button>
        <button type="reset">Cancel</button>
    </form>

    <!-- Display the Graphs -->
    <div>
        {{ histogram_div|safe }}
        {{ pie_chart_div|safe }}
        {{ election_histogram_div|safe }}
    </div>
</body>
</html>
